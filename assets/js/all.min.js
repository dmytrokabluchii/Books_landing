window.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector("header"),t=document.querySelectorAll(".logo__link, .nav-menu__link, .link-footer"),o=document.querySelector(".hamburger__menu"),l=document.querySelector(".mobile"),n=document.querySelectorAll(".sidemenu ul li a, .logo__link"),i=document.querySelector(".modal__callback"),s=document.querySelector(".callback__field"),r=document.querySelector(".overlay"),a=document.querySelectorAll("[data-modal]");var d,c,u,v;function m(e,t){e.classList.toggle("active"),t.classList.remove("active"),document.body.style.overflow=""}window.addEventListener("load",(()=>{document.body.classList.add("loaded_hiding"),window.setTimeout((()=>{document.body.classList.add("loaded"),document.body.classList.remove("loaded_hiding")}),500)})),d=e,window.onscroll=function(){window.pageYOffset>0?d.classList.add("fixed_header"):d.classList.remove("fixed_header")},function(){for(let e of t)e.addEventListener("click",(t=>{t.preventDefault();const o=e.getAttribute("href");document.querySelector(o).scrollIntoView({behavior:"smooth",block:"start"})}))}(),u=l,v=n,(c=o).addEventListener("click",(function(){c.classList.toggle("active"),u.classList.toggle("active"),document.body.classList.toggle("open"),document.body.classList.toggle("overflow")})),v.forEach((e=>{e.addEventListener("click",(()=>{c.classList.remove("active"),u.classList.remove("active"),document.body.classList.remove("open"),document.body.classList.remove("overflow")}))})),a.forEach((e=>{e.addEventListener("click",(()=>{!function(e,t){e.classList.toggle("active"),t.classList.add("active"),document.body.style.overflow="hidden"}(i,r)}))})),s.addEventListener("click",(e=>{e.target!==s&&""!=e.target.getAttribute("data-close")||m(i,r)})),document.addEventListener("keydown",(e=>{"Escape"===e.code&&i.classList.contains("active")&&m(i,r)}));const f=document.querySelector(".callback__telephone"),g=document.querySelector(".callback__names"),h=document.querySelector(".callback__telephone"),_=document.querySelector("#my_callback-form");var p,b;(p=g).addEventListener("input",(()=>{""!==p.value?p.style.borderColor="green":p.style.borderColor="red"})),[].forEach.call(document.querySelectorAll("#callback_phone"),(function(e){let t;function o(e){e.keyCode&&(t=e.keyCode),this.selectionStart<3&&e.preventDefault();let o="+38(___)___-__-__",l=0,n=o.replace(/\D/g,""),i=this.value.replace(/\D/g,""),s=o.replace(/[_\d]/g,(function(e){return l<i.length?i.charAt(l++)||n.charAt(l):e}));l=s.indexOf("_"),-1!=l&&(l<5&&(l=3),s=s.slice(0,l));let r=o.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");r=new RegExp("^"+r+"$"),(!r.test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=s),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",o,!1),e.addEventListener("focus",o,!1),e.addEventListener("blur",o,!1),e.addEventListener("keydown",o,!1)})),f.addEventListener("input",(()=>{var e;(e=f).value.length<17?e.style.borderColor="red":e.style.borderColor="green"})),(b=_).addEventListener("submit",(e=>{e.preventDefault();let t=encodeURI(`Books Website\nRecall\n\nName: ${g.value};\nPhone: ${h.value};`);""!==g.value&&""!==h.value&&h.value.length>16?axios.get("https://api.telegram.org/bot5324396066:AAFDhE5HZ4_mI54HC4OmzWCfjxawduNh8S8/sendMessage?chat_id=-1001758890997&text="+t+"&parse_mode=html").then((()=>{Swal.fire({position:"top-end",icon:"success",title:"Your message send, wait for call from our operator",showConfirmButton:!1,timer:5e3}),m(i,r)})).catch((()=>{Swal.fire({position:"top-end",icon:"error",title:"Error server, the message don`t send",showConfirmButton:!1,timer:4e3}),m(i,r)})).finally((()=>{b.reset(),m(i,r)})):(Swal.fire({position:"top-end",icon:"info",title:"Fill all fields!",showConfirmButton:!1,timer:4e3}),m(i,r))})),document.querySelectorAll(".gallery-js").forEach((e=>{lightGallery(e,{selector:".gallery-link",thumbnail:!0,mode:"lg-fade"})}));const w=new Swiper(".swiper",{rewind:!0,grabCursor:!0,spaceBetween:30,slidesPerView:3,slidesPerGroup:3,breakpoints:{280:{slidesPerView:1,slidesPerGroup:1},599:{slidesPerView:2,spaceBetween:20,slidesPerGroup:2},999:{slidesPerView:3}},navigation:{prevEl:".swiper-navigation__prev",nextEl:".swiper-navigation__next"}});axios.get("assets/common/cards.json").then((e=>{!function(e){e.data.forEach((({image:e,title:t,subtitle:o,btn:l,date:n})=>{w.appendSlide(`\n        <li class="cards-item swiper-slide">\n          <div class="cards-link" href="#">\n              <div class="cards-link__image">\n                  <img class="cards-pic" src="assets/images/cards/${e}" alt="cards-image">\n              </div>\n              <div class="cards-link__info">\n                <div class="info-title item-title">${t}</div>\n                <div class="info-subtitle item-subtitle">${o}</div>\n                <div class="info-footer">\n                    <button class="info-footer__btn btn-read" data-modal_readmore>${l}</button>\n                    <div class="info-footer__date">${n}</div>\n                </div>\n              </div>\n          </div>\n        </li>\n      `)}))}(e)})).catch((()=>{Swal.fire({position:"top-end",icon:"error",title:'Error server, the information of block "Articles & Resources" can`t downloading',showConfirmButton:!1,timer:4e3})}))}));